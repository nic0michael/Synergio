This is a java 21 gradle springboot microservice with thymeleaf
## Existing code

I have this HTML form: form.html:

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Service Record Form</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script defer th:src="@{/js/form.js}"></script>
</head>
<body>
	
<header>
	<div class="brand-title">Synergio</div>
    <h1>Vehicle Service Record</h1>
    <nav>
		<a th:href="@{/records}">View Records</a> | 
        <a th:href="@{/help}">Help</a>
    </nav>
</header>

<main>
	<a th:href="@{/records}" class="btn-link">View Records</a>
	<br><br>
	
    <form th:action="@{/submit}" th:object="${serviceRecord}" method="post" class="service-form">
        <label>Date:
			<input type="date" th:field="*{date}" required>		
        </label>

        <label>Customer Name:
            <input type="text" th:field="*{customerName}" required>
        </label>

        <label>Cellphone:
            <input type="tel" th:field="*{cellphone}">
        </label>

        <label>Vehicle Registration Number:
            <input type="text" th:field="*{vehicleRegNumber}" required>
        </label>

        <label>Vehicle Audometer Reading:
            <input type="text" th:field="*{audometerReading}">
        </label>

        <label>VIN Number:
            <input type="text" th:field="*{vinNumber}">
        </label>

        <label>Document Type:
            <select th:field="*{documentType}">
                <option value="Quotation">Quotation</option>
                <option value="Invoice">Invoice</option>
				<option value="Refund (Subject to approval)">Refund (Subject to approval)</option>
            </select>
        </label>

        <label>Vehicle Requirement Category:
            <select th:field="*{requirementCategory}">
                <option value="Oil Change">Oil Change</option>
                <option value="Service">Service</option>
                <option value="General / Safety Inspection">General / Safety Inspection</option>
                <option value="Brake Check">Brake Check</option>
				<option value="Repair">Repair</option>
				<option value="Engine Diagnostics">Engine Diagnostics</option>
				<option value="Electrical System">Electrical System</option>
				<option value="Battery Replacement">Battery Replacement</option>
				<option value="Cooling System / Radiator">Cooling System / Radiator</option>
				<option value="Transmission / Clutch">Transmission / Clutch</option>
				<option value="Suspension / Steering">Suspension / Steering</option>
				<option value="Tire Replacement / Rotation">Tire Replacement / Rotation</option>
				<option value="Wheel Alignment / Balancing">Wheel Alignment / Balancing</option>
				<option value="Fuel System">Fuel System</option>
				<option value="Timing Belt / Chain">Timing Belt / Chain</option>
				<option value="Lights / Indicators">Lights / Indicators</option>
				<option value="Wipers / Washer System">Wipers / Washer System</option>
				<option value="Other">Other</option>
				
				
				
            </select>
        </label>

        <label>Interval (Days / Months / KMs):
            <input type="text" th:field="*{interval}">
        </label>

        <label>Materials Required:
            <input type="text" th:field="*{materialsRequired}">
        </label>

        <label>Labour (hours):
            <input type="number" min="0" step="0.1" th:field="*{labourHours}">
        </label>

        <label>Amount:
            <input type="number" min="0" step="0.01" th:field="*{amount}">
        </label>

        <label>Breakdown Details:
            <textarea th:field="*{breakdown}" rows="3"></textarea>
        </label>

        <button type="submit">Save Record</button>
    </form>
</main>

<footer>
    <p>&copy; 2025 Synergeio Service Station</p>
</footer>
</body>
</html>


I have this controller : MvcController.java
package za.co.synergio.georgiou.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.format.annotation.DateTimeFormat;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.*;
import za.co.synergio.georgiou.model.ServiceRecord;
import za.co.synergio.georgiou.storage.CsvStorage;

//import javax.validation.Valid;
import java.io.IOException;
import java.math.BigDecimal;
import java.time.LocalDate;
import java.time.ZoneOffset;
import java.util.Collections;
import java.util.List;

@Controller
public class MvcController {

	private final CsvStorage csvStorage;

	@Autowired
	public MvcController(CsvStorage csvStorage) {
		this.csvStorage = csvStorage;
	}
	
	@GetMapping("/")
	public String form(Model model) {
	    // Get the current UTC date (same worldwide)
	    LocalDate utcDate = LocalDate.now(ZoneOffset.UTC);
	    
	    ServiceRecord record = new ServiceRecord();
	    record.setDate(utcDate);
	    model.addAttribute("serviceRecord", record);
	    
	    return "form";
	}



	@PostMapping("/submit")
	public String submit(@ModelAttribute ServiceRecord serviceRecord, BindingResult bindingResult, Model model)
			throws IOException {
// Basic validation (can be expanded)
		if (serviceRecord.getDate() == null) {
			bindingResult.rejectValue("date", "date.empty", "Date is required");
		}
		if (serviceRecord.getCustomerName() == null || serviceRecord.getCustomerName().isBlank()) {
			bindingResult.rejectValue("customerName", "name.empty", "Customer name is required");
		}
		if (bindingResult.hasErrors()) {
			model.addAttribute("serviceRecord", serviceRecord);
			return "form";
		}

// Ensure the amount is non-null
		if (serviceRecord.getAmount() == null)
			serviceRecord.setAmount(BigDecimal.ZERO);

		csvStorage.save(serviceRecord);
		return "redirect:/";
	}

	@GetMapping("/api/records")
	@ResponseBody
	public List<ServiceRecord> apiRecords() throws IOException {
		return csvStorage.readAll();
	}
	
	@GetMapping("/records")
	public String records(Model model) throws IOException {
	    List<ServiceRecord> records = csvStorage.readAll();
	    Collections.reverse(records); // last record first
	    model.addAttribute("records", records);
	    return "records";
	}
	
	@GetMapping("/help")
	public String help() {
		return "help"; // help.html
	}

}

I have this Model: ServiceRecord.java
package za.co.synergio.georgiou.model;

import java.math.BigDecimal;
import java.time.LocalDate;

import org.springframework.format.annotation.DateTimeFormat;

public class ServiceRecord {
	@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)
    private LocalDate date;
    private String customerName;
    private String cellphone;
    private String vehicleRegNumber;
    private String audometerReading;
    private String vinNumber;
    private String documentType;              // Quotation / Invoice
    private String requirementCategory;       // Oil Change / Service / etc.
    private String interval;                  // Days / Months / KMs combined
    private String materialsRequired;
    private double labourHours;
    private BigDecimal amount;
    private String breakdown;

    public ServiceRecord() {}

    // --- Getters and Setters ---
    public LocalDate getDate() { return date; }
    public void setDate(LocalDate date) { this.date = date; }

    public String getCustomerName() { return customerName; }
    public void setCustomerName(String customerName) { this.customerName = customerName; }

    public String getCellphone() { return cellphone; }
    public void setCellphone(String cellphone) { this.cellphone = cellphone; }

    public String getVehicleRegNumber() { return vehicleRegNumber; }
    public void setVehicleRegNumber(String vehicleRegNumber) { this.vehicleRegNumber = vehicleRegNumber; }

    public String getAudometerReading() { return audometerReading; }
    public void setAudometerReading(String audometerReading) { this.audometerReading = audometerReading; }

    public String getVinNumber() { return vinNumber; }
    public void setVinNumber(String vinNumber) { this.vinNumber = vinNumber; }

    public String getDocumentType() { return documentType; }
    public void setDocumentType(String documentType) { this.documentType = documentType; }

    public String getRequirementCategory() { return requirementCategory; }
    public void setRequirementCategory(String requirementCategory) { this.requirementCategory = requirementCategory; }

    public String getInterval() { return interval; }
    public void setInterval(String interval) { this.interval = interval; }

    public String getMaterialsRequired() { return materialsRequired; }
    public void setMaterialsRequired(String materialsRequired) { this.materialsRequired = materialsRequired; }

    public double getLabourHours() { return labourHours; }
    public void setLabourHours(double labourHours) { this.labourHours = labourHours; }

    public BigDecimal getAmount() { return amount; }
    public void setAmount(BigDecimal amount) { this.amount = amount; }

    public String getBreakdown() { return breakdown; }
    public void setBreakdown(String breakdown) { this.breakdown = breakdown; }

    @Override
    public String toString() {
        return "ServiceRecord{" +
                "date=" + date +
                ", customerName='" + customerName + '\'' +
                ", cellphone='" + cellphone + '\'' +
                ", vehicleRegNumber='" + vehicleRegNumber + '\'' +
                ", audometerReading='" + audometerReading + '\'' +
                ", vinNumber='" + vinNumber + '\'' +
                ", documentType='" + documentType + '\'' +
                ", requirementCategory='" + requirementCategory + '\'' +
                ", interval='" + interval + '\'' +
                ", materialsRequired='" + materialsRequired + '\'' +
                ", labourHours=" + labourHours +
                ", amount=" + amount +
                ", breakdown='" + breakdown + '\'' +
                '}';
    }
}


I have form.js
document.addEventListener("DOMContentLoaded", () => {
  const form = document.querySelector(".service-form");
  if (!form) return;

  form.addEventListener("submit", (e) => {
    const date = form.querySelector("input[name='date']");
    const name = form.querySelector("input[name='customerName']");
    if (!date.value || !name.value.trim()) {
      e.preventDefault();
      alert("Please fill in required fields: Date and Customer Name");
    }
  });
});

## Changes needed

Make these two changes after DocumentType add two fields
private LocalDate serviceDate
private LocalDate recurringDate

change  private String interval default value =0
make it numeric  days
if it is not zero calculate by adding interval to date and put this value in recurringDate


synergeio.csv.path=/home/nickm/Documents/NikiforosRequirement/service_records.csv
synergeio.back.path=/home/nickm/Documents/NikiforosRequirement/service_records.backup
